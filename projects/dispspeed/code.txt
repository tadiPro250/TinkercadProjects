#include <LiquidCrystal_I2C.h>
#include <Wire.h>
int potpin = A0;
int en = 9;
int in1 = 8;
int in2 = 7;
int sensorpin = 2;
int pot=A0;
int rpm = 0;
int maxrpm=16530
LiquidCrystal_I2C lcd(0x27, 16, 2);
void setup() {
  pinMode(in1, OUTPUT);
  pinMode(en, OUTPUT);
  pinMode(in2, OUTPUT);
  pinMode(potpin, INPUT);
  lcd.init();
  lcd.backlight();
  lcd.print("Motor rpm:");
}
void loop() 
{
  int potval = analogRead(potpin);
  int pwmval = map(potval, 0, 1023, 0, 255);
  analogWrite(en, pwmval);
  digitalWrite(in1, HIGH);
  digitalWrite(in2, LOW);
  rpm = (long)pwmval*maxRPM / 255;
  lcd.setCursor(0, 1);
  lcd.print("RPM: ");
  lcd.print(rpm);
  lcd.print("   ");
  delay(200);
}